<!DOCTYPE html>
<html>
<head>
    <title>Emotion-based Music Selection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
</head>
<body>
    <header>
        <h1>Emotion-based Music Selection</h1>
    </header>
    <main>

        <select id="activity">
            <option value="study">Study</option>
            <option value="work">Work</option>
            <option value="exercise">Exercise</option>
            <option value="relax">Relax</option>
        </select>
        
        <select id="genre">
            <option value="classical">Classical</option>
            <option value="pop">Pop</option>
            <option value="rock">Rock</option>
            <option value="ambient">Ambient</option>
            <option value="electronic">Electronic</option>
            <option value="hiphop">Hip Hop</option>
        </select>
        
        <select id="mood">
            <option value="focus">Focus</option>
            <option value="happy">Happy</option>
            <option value="energetic">Energetic</option>
            <option value="calm">Calm</option>
        </select>
        <section class="action-container">
            <button id="playButton">Play Music</button>
            <div id="message"></div>
        </section>
        <section class="emotion-detection-container">
            <h2>Emotion Detection</h2>
            <div class="video-container">
                <img src="{{ url_for('video_feed') }}" alt="Emotion Detection">
            </div>
        </section>
    </main>

    <div class="playlists-container">
        <div class="current-playlist">
            <h3>Current Playlist</h3>
            <div id="current-playlist-info">
                <img id="current-playlist-image" src="" alt="Current Playlist" style="width: 200px; display: none;">
                <p id="current-playlist-name"></p>
                <p id="current-playlist-description" class="playlist-description"></p>
            </div>
        </div>
        
        <div class="suggested-playlist" style="display: none;">
            <h3>Suggested Playlist</h3>
            <div id="suggested-playlist-info">
                <img id="suggested-playlist-image" src="" alt="Suggested Playlist" style="width: 200px; display: none;">
                <p id="suggested-playlist-name"></p>
                <p id="suggested-playlist-description" class="playlist-description"></p>
            </div>
            <button id="switch-playlist-button" onclick="switchToSuggestedPlaylist()" style="display: none;">
                Switch to This Playlist
            </button>
        </div>
    </div>

    <div class="music">
        <div id="current-song">
            <h3>Currently Playing:</h3>
            <p id="song-info">No song is playing.</p>
            <img id="album-image" src="" alt="Album Image" style="width: 300px; display: none;">
        </div>
    
        <button onclick="pauseMusic()">Pause</button>
        <button onclick="resumeMusic()">Resume</button>
        <button onclick="nextTrack()">Next</button>
    
        <div class="feedback-container">
            <h3>How's this playlist working for you?</h3>
            <button onclick="submitFeedback(1)" class="feedback-btn positive">üëç Great Choice</button>
            <button onclick="submitFeedback(-1)" class="feedback-btn negative">üëé Not Working</button>
            <p id="feedback-message" style="display: none;"></p>
        </div>
    </div>

    
</body>
</html>